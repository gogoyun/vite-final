import{u as m,d,c as u,w as n,v as r,a,e as p,f as c,o as f,s as _}from"./index-IOeMYE9e.js";const v=a("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1),w=a("label",{class:"formControls_label",for:"email"},"Email",-1),b=a("label",{class:"formControls_label",for:"pwd"},"密碼",-1),h=a("input",{class:"formControls_btnSubmit",type:"submit",value:"登入"},null,-1),k={__name:"LoginForm",setup(C){const l=m(),t=d({email:"",password:""}),i=async()=>{await _({email:t.value.email,password:t.value.password}).then(e=>{e.data.status&&(localStorage.setItem("token",JSON.stringify({value:e.data.token,expiry:e.data.exp})),localStorage.setItem("name",e.data.nickname),l.push({name:"todo"}))}).catch(e=>{alert(e.response.data.message)})};return(e,s)=>(f(),u("form",{class:"formControls",onSubmit:c(i,["prevent"])},[v,w,n(a("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.value.email=o)},null,512),[[r,t.value.email]]),b,n(a("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",minlength:"6",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>t.value.password=o)},null,512),[[r,t.value.password]]),h,a("a",{class:"formControls_btnLink",onClick:s[2]||(s[2]=o=>p(l).push({name:"register"}))},"註冊帳號")],32))}};export{k as default};
